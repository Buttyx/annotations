<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Documentation Source: annotations-tool-configuration.js</title>

	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<link type="text/css" rel="stylesheet" href="styles/sunlight.default.css">

	
	<link type="text/css" rel="stylesheet" href="styles/site.simplex.css">
	
</head>

<body>
<div class="container-fluid">
	<div class="navbar navbar-fixed-top ">
		<div class="navbar-inner">
			<a class="brand" href="index.html">Documentation</a>
			<ul class="nav">
				
				<li class="dropdown">
					<a href="namespaces.list.html" class="dropdown-toggle" data-toggle="dropdown">Namespaces<b
						class="caret"></b></a>

					<ul class="dropdown-menu ">
						
						<li>
							<a href="annotationsTool.html">annotationsTool</a>
						</li>
						

					</ul>
				</li>
				
				<li class="dropdown">
					<a href="modules.list.html" class="dropdown-toggle" data-toggle="dropdown">Modules<b
						class="caret"></b></a>

					<ul class="dropdown-menu ">
						
						<li>
							<a href="module-ACCESS.html">ACCESS</a>
						</li>
						
						<li>
							<a href="module-annotations-tool.html">annotations-tool</a>
						</li>
						
						<li>
							<a href="module-annotations-tool-configuration.html">annotations-tool-configuration</a>
						</li>
						
						<li>
							<a href="module-backbone-annotations-sync.html">backbone-annotations-sync</a>
						</li>
						
						<li>
							<a href="module-collections-annotations.html">collections-annotations</a>
						</li>
						
						<li>
							<a href="module-collections-categories.html">collections-categories</a>
						</li>
						
						<li>
							<a href="module-collections-comments.html">collections-comments</a>
						</li>
						
						<li>
							<a href="module-collections-labels.html">collections-labels</a>
						</li>
						
						<li>
							<a href="module-collections-loops.html">collections-loops</a>
						</li>
						
						<li>
							<a href="module-collections-scales.html">collections-scales</a>
						</li>
						
						<li>
							<a href="module-collections-scalevalues.html">collections-scalevalues</a>
						</li>
						
						<li>
							<a href="module-collections-tracks.html">collections-tracks</a>
						</li>
						
						<li>
							<a href="module-collections-users.html">collections-users</a>
						</li>
						
						<li>
							<a href="module-collections-videos.html">collections-videos</a>
						</li>
						
						<li>
							<a href="module-filters-manager.html">filters-manager</a>
						</li>
						
						<li>
							<a href="module-models-annotation.html">models-annotation</a>
						</li>
						
						<li>
							<a href="module-models-category.html">models-category</a>
						</li>
						
						<li>
							<a href="module-models-comment.html">models-comment</a>
						</li>
						
						<li>
							<a href="module-models-label.html">models-label</a>
						</li>
						
						<li>
							<a href="module-models-loop.html">models-loop</a>
						</li>
						
						<li>
							<a href="module-models-scale.html">models-scale</a>
						</li>
						
						<li>
							<a href="module-models-scalevalue.html">models-scalevalue</a>
						</li>
						
						<li>
							<a href="module-models-track.html">models-track</a>
						</li>
						
						<li>
							<a href="module-models-user.html">models-user</a>
						</li>
						
						<li>
							<a href="module-models-video.html">models-video</a>
						</li>
						
						<li>
							<a href="module-player-adapter.html">player-adapter</a>
						</li>
						
						<li>
							<a href="module-player-adapter-HTML5.html">player-adapter-HTML5</a>
						</li>
						
						<li>
							<a href="module-ROLES.html">ROLES</a>
						</li>
						
						<li>
							<a href="module-views-alert.html">views-alert</a>
						</li>
						
						<li>
							<a href="module-views-annotate.html">views-annotate</a>
						</li>
						
						<li>
							<a href="module-views-annotate-category.html">views-annotate-category</a>
						</li>
						
						<li>
							<a href="module-views-annotate-label.html">views-annotate-label</a>
						</li>
						
						<li>
							<a href="module-views-annotate-tab.html">views-annotate-tab</a>
						</li>
						
						<li>
							<a href="module-views-comment.html">views-comment</a>
						</li>
						
						<li>
							<a href="module-views-comments-container.html">views-comments-container</a>
						</li>
						
						<li>
							<a href="module-views-list.html">views-list</a>
						</li>
						
						<li>
							<a href="module-views-list-annotation.html">views-list-annotation</a>
						</li>
						
						<li>
							<a href="module-views-login.html">views-login</a>
						</li>
						
						<li>
							<a href="module-views-loop.html">views-loop</a>
						</li>
						
						<li>
							<a href="module-views-main.html">views-main</a>
						</li>
						
						<li>
							<a href="module-views-scale-editor.html">views-scale-editor</a>
						</li>
						
						<li>
							<a href="module-views-scalevalue-editor.html">views-scalevalue-editor</a>
						</li>
						
						<li>
							<a href="module-views-timeline.html">views-timeline</a>
						</li>
						

					</ul>
				</li>
				
				<li class="dropdown">
					<a href="classes.list.html" class="dropdown-toggle" data-toggle="dropdown">Classes<b
						class="caret"></b></a>

					<ul class="dropdown-menu ">
						
						<li>
							<a href="module-backbone-annotations-sync.AnnotationsSync.html">AnnotationsSync</a>
						</li>
						
						<li>
							<a href="module-collections-annotations.Annotations.html">Annotations</a>
						</li>
						
						<li>
							<a href="module-collections-categories.Categories.html">Categories</a>
						</li>
						
						<li>
							<a href="module-collections-comments.Comments.html">Comments</a>
						</li>
						
						<li>
							<a href="module-collections-labels.Labels.html">Labels</a>
						</li>
						
						<li>
							<a href="module-collections-loops.Loops.html">Loops</a>
						</li>
						
						<li>
							<a href="module-collections-scales.Scales.html">Scales</a>
						</li>
						
						<li>
							<a href="module-collections-scalevalues.ScaleValues.html">ScaleValues</a>
						</li>
						
						<li>
							<a href="module-collections-tracks.Tracks.html">Tracks</a>
						</li>
						
						<li>
							<a href="module-collections-users.User.html">User</a>
						</li>
						
						<li>
							<a href="module-collections-videos.Videos.html">Videos</a>
						</li>
						
						<li>
							<a href="module-filters-manager.FiltersManager.html">FiltersManager</a>
						</li>
						
						<li>
							<a href="module-models-annotation.Annotation.html">Annotation</a>
						</li>
						
						<li>
							<a href="module-models-category.Category.html">Category</a>
						</li>
						
						<li>
							<a href="module-models-comment.Comment.html">Comment</a>
						</li>
						
						<li>
							<a href="module-models-label.Label.html">Label</a>
						</li>
						
						<li>
							<a href="module-models-loop.Loop.html">Loop</a>
						</li>
						
						<li>
							<a href="module-models-scale.Scale.html">Scale</a>
						</li>
						
						<li>
							<a href="module-models-scalevalue.Scalevalue.html">Scalevalue</a>
						</li>
						
						<li>
							<a href="module-models-track.Track.html">Track</a>
						</li>
						
						<li>
							<a href="module-models-user.User.html">User</a>
						</li>
						
						<li>
							<a href="module-models-video.Video.html">Video</a>
						</li>
						
						<li>
							<a href="module-player-adapter.PlayerAdapter.html">PlayerAdapter</a>
						</li>
						
						<li>
							<a href="module-player-adapter-HTML5.PlayerAdapterHTML5.html">PlayerAdapterHTML5</a>
						</li>
						
						<li>
							<a href="module-views-alert.Alert.html">Alert</a>
						</li>
						
						<li>
							<a href="module-views-annotate.Annotate.html">Annotate</a>
						</li>
						
						<li>
							<a href="module-views-annotate-category.CategoryView.html">CategoryView</a>
						</li>
						
						<li>
							<a href="module-views-annotate-label.LabelView.html">LabelView</a>
						</li>
						
						<li>
							<a href="module-views-annotate-tab.AnnotateTab.html">AnnotateTab</a>
						</li>
						
						<li>
							<a href="module-views-comment.Comment.html">Comment</a>
						</li>
						
						<li>
							<a href="module-views-comments-container.CommentsContainer.html">CommentsContainer</a>
						</li>
						
						<li>
							<a href="module-views-list.List.html">List</a>
						</li>
						
						<li>
							<a href="module-views-list-annotation.ListAnnotation.html">ListAnnotation</a>
						</li>
						
						<li>
							<a href="module-views-login.Login.html">Login</a>
						</li>
						
						<li>
							<a href="module-views-loop.Loop.html">Loop</a>
						</li>
						
						<li>
							<a href="module-views-main.MainView.html">MainView</a>
						</li>
						
						<li>
							<a href="module-views-scale-editor.ScaleEditor.html">ScaleEditor</a>
						</li>
						
						<li>
							<a href="module-views-scalevalue-editor.ScaleValueEditor.html">ScaleValueEditor</a>
						</li>
						
						<li>
							<a href="module-views-timeline.TimelineView.html">TimelineView</a>
						</li>
						

					</ul>
				</li>
				
			</ul>
		</div>
	</div>

	<div class="row-fluid">

		
			<div class="span12">
				
				<div id="main">
					


		<h1 class="page-title">Source: annotations-tool-configuration.js</h1>
    
    <section>
        <article>
            <pre class="sunlight-highlight-javascript ">/**
 *  Copyright 2012, Entwine GmbH, Switzerland
 *  Licensed under the Educational Community License, Version 2.0
 *  (the "License"); you may not use this file except in compliance
 *  with the License. You may obtain a copy of the License at
 *
 *  http://www.osedu.org/licenses/ECL-2.0
 *
 *  Unless required by applicable law or agreed to in writing,
 *  software distributed under the License is distributed on an "AS IS"
 *  BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 *  or implied. See the License for the specific language governing
 *  permissions and limitations under the License.
 *
 */

/**
 * Module containing the tool configuration
 * @module annotations-tool-configuration
 */
define(["jquery",
        "underscore",
        "roles",
        "player_adapter_HTML5"
        // Add here the files (PlayerAdapter, ...) required for your configuration
        ],

    function ($, _, ROLES, HTML5PlayerAdapter) {

        "use strict";

        /**
         * Annotations tool configuration object
         * @alias module:annotations-tool-configuration.Configuration
         * @enum
         */
        var Configuration =  {

            /**
             * List of possible layout configuration
             * @alias module:annotations-tool-configuration.Configuration.LAYOUT_CONFIGURATION
             * @memberOf module:annotations-tool-configuration.Configuration
             * @type {Object}
             */
            LAYOUT_CONFIGURATION: {
                /** default configuration */
                DEFAULT: {
                    timeline : true,
                    list     : true,
                    annotate : true
                }
            },

            /**
             * The minmal duration used for annotation representation on timeline
             * @alias module:annotations-tool-configuration.Configuration.MINIMAL_DURATION
             * @memberOf module:annotations-tool-configuration.Configuration
             * @type {Object}
             */
            MINIMAL_DURATION: 5,

            /**
             * Define the number of categories pro tab in the annotate box. Bigger is number, thinner will be the columns for the categories.
             * @alias module:annotations-tool-configuration.Configuration.CATEGORIES_PER_TAB
             * @memberOf module:annotations-tool-configuration.Configuration
             * @type {Number}
             */
            CATEGORIES_PER_TAB: 7,

            /**
             * Define if the localStorage should be used or not
             * @alias module:annotations-tool-configuration.Configuration.localStorage
             * @type {boolean}
             * @readOnly
             */
            localStorage: true,

            /**
             * List of models using only the localStory sync module
             * @type {Array}
             * @readOnly
             */
            localStorageOnlyModel: [],


            /**
             * List of plugins to load,
             * the bootstrap function of each plugin is called once the tool is ready
             * @type {Object}
             * @readOnly
             */
            plugins: {
                Loop: function () {
                        require(["views/loop"], function (Loop) {
                            annotationsTool.loopView = new Loop();
                        });
                    }
            },

            /**
             * Url from the annotations Rest Endpoints
             * @alias module:annotations-tool-configuration.Configuration.restEndpointsUrl
             * @type {string}
             * @readOnly
             */
            restEndpointsUrl: "../../extended-annotations",

            /**
             * Url for redirect after the logout
             * @alias module:annotations-tool-configuration.Configuration.logoutUrl
             * @type {string}
             * @readOnly
             */
            logoutUrl: undefined,

            /**
             * Url from the export function for statistics usage
             * @alias module:annotations-tool-configuration.Configuration.exportUrl
             * @type {string}
             * @readOnly
             */
            exportUrl: "",

            /**
             * Player adapter implementation to use for the annotations tool
             * @alias module:annotations-tool-configuration.Configuration.playerAdapter
             * @type {module:player-adapter.PlayerAdapter}
             */
            playerAdapter: undefined,

            /**
             * Array of tracks to import by default
             * @type {module:player-adapter.tracksToImport}
             */
            tracksToImport: undefined,

            /**
             * Formats the given date in 
             * @alias module:annotations-tool-configuration.Configuration.formatDate
             * @type {module:player-adapter.formatDate}
             */
            formatDate: function (date) {
                if (_.isNumber(date)) {
                    date = new Date(date);
                }

                if (_.isDate(date)) {
                    return date.getDate() + "." + (date.getMonth() + 1) + "." + date.getFullYear();
                } else {
                    return "Unvalid date";
                }
            },

            /**
             * Get the tool layout configuration
             * @return {object} The tool layout configuration
             */
            getLayoutConfiguration: function () {
                return this.LAYOUT_CONFIGURATION.DEFAULT;
            },

            /**
             * Define if the structured annotations are or not enabled
             * @alias module:annotations-tool-configuration.Configuration.isStructuredAnnotationEnabled
             * @return {boolean} True if this feature is enabled
             */
            isStructuredAnnotationEnabled: function () {
                return true;
            },

            /**
             * Define if the private-only mode is enabled
             * @alias module:annotations-tool-configuration.Configuration.isPrivateOnly
             * @return {boolean} True if this mode is enabled
             */
            isPrivateOnly: function () {
                return false;
            },

            /**
             * Define if the free text annotations are or not enabled
             * @alias module:annotations-tool-configuration.Configuration.isFreeTextEnabled
             * @return {boolean} True if this feature is enabled
             */
            isFreeTextEnabled: function () {
                return true;
            },

            /**
             * Get the current video id (video_extid)
             * @alias module:annotations-tool-configuration.Configuration.getVideoExtId
             * @return {string} video external id
             */
            getVideoExtId: function () {
                return $("video")[0].id;
            },

            /**
             * Returns the time interval between each timeupdate event to take into account.
             * It can improve a bit the performance if the amount of annotations is important. 
             * @alias module:annotations-tool-configuration.Configuration.getTimeupdateIntervalForTimeline
             * @return {number} The interval
             */
            getTimeupdateIntervalForTimeline: function () {
                // TODO Check if this function should be linear
                return Math.max(500, annotationsTool.getAnnotations().length * 3);

            },

            /**
             * Sets the behavior of the timeline. Enable it to follow the playhead.
             * @alias module:annotations-tool-configuration.Configuration.timelineFollowPlayhead
             * @type {Boolean}
             */
            timelineFollowPlayhead: true,

            /**
             * Get the external parameters related to video. The supported parameters are now the following:
             *     - video_extid: Required! Same as the value returned by getVideoExtId
             *     - title: The title of the video
             *     - src_owner: The owner of the video in the system
             *     - src_creation_date: The date of the course, when the video itself was created.
             * @alias module:annotations-tool-configuration.Configuration.getVideoExtId
             * @example
             * {
             *     video_extid: 123, // Same as the value returned by getVideoExtId
             *     title: "Math lesson 4", // The title of the video
             *     src_owner: "Professor X", // The owner of the video in the system
             *     src_creation_date: "12-12-1023" // The date of the course, when the video itself was created.
             * }
             * @return {Object} The literal object containing all the parameters described in the example.
             */
            getVideoParameters: function () {
                return {
                    video_extid: this.getVideoExtId(),
                    title: $("video")[0].currentSrc.split("/").pop().split(".")[0],
                    src_owner: $("video").first().attr("data-owner"),
                    src_creation_date:  $("video").first().attr("data-date")
                };
            },

            /**
             * Get the user id from the current context (user_extid)
             * @alias module:annotations-tool-configuration.Configuration.getUserExtId
             * @return {string} user_extid
             */
            getUserExtId: function () {
                return "default";
            },

            /**
             * Get the role of the current user
             * @alias module:annotations-tool-configuration.Configuration.getUserRole
             * @return {ROLE} The current user role
             */
            getUserRole: function () {
                return ROLES.USER;
            },

            /**
             * Get the name of the admin role
             * @alias module:annotations-tool-configuration.Configuration.getAdminRoleName
             * @return {ROLE} The name of the admin role
             */
            getAdminRoleName: function () {
                return ROLES.ADMINISTRATOR;
            },

            /**
             * Get the user authentification token if existing
             * @alias module:annotations-tool-configuration.Configuration.getUserAuthToken
             * @return {string} Current user token
             */
            getUserAuthToken: function () {
                return undefined;
            },

            /**
             * Function to load the video
             * @alias module:annotations-tool-configuration.Configuration.loadVideo
             */
            loadVideo: function () {
                annotationsTool.playerAdapter = new HTML5PlayerAdapter($("video")[0]);
            }
        };

        return Configuration;
    }
);</pre>
        </article>
    </section>





				</div>

				<div class="clearfix"></div>
				<footer>
					
					
		<span class="jsdoc-message">
		Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.2.2</a>
		on Tue Apr 08 2014 10:59:13 GMT+0200 (CEST) using the <a href="https://github.com/terryweiss/docstrap">DocStrap template</a>.
		</span>
				</footer>
			</div>

			
			<br clear="both">
		</div>

	</div>
	<script src="scripts/sunlight.js"></script>
	<script src="scripts/sunlight.javascript.js"></script>
	<script src="scripts/sunlight-plugin.doclinks.js"></script>
	<script src="scripts/sunlight-plugin.linenumbers.js"></script>
	<script src="scripts/sunlight-plugin.menu.js"></script>
	<script src="scripts/jquery.min.js"></script>
	<script src="scripts/jquery.scrollTo.js"></script>
	<script src="scripts/jquery.localScroll.js"></script>
	<script src="scripts/bootstrap-dropdown.js"></script>
	<script src="scripts/toc.js"></script>


	<script>  Sunlight.highlightAll({lineNumbers:,  showMenu: true, enableDoclinks :true}); </script>

	<script>
		$( function () {
			$( "#toc" ).toc( {
				selectors   : "h1,h2,h3,h4",
				showAndHide : false,
				scrollTo    : 60
			} );
			$( "#toc>ul" ).addClass( "nav nav-pills nav-stacked" );
			$( "#main span[id^='toc']" ).addClass( "toc-shim" );

		} );
	</script>

	

</body>
</html>
